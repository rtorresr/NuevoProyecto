
@{
    ViewBag.Title = "recepcionarSda";
    Layout = "~/Views/Shared/_LayoutMenuUn.cshtml";

}

<head>
    
    <title>Recepcionar S.D.A </title>
    
</head>
<div class="main-content">
    <!-- contenedor -->

    <div class="main-content-inner">
        <div class="breadcrumbs ace-save-state" id="breadcrumbs">
            <span>Bienvenido  Sr: @Session["NombreUsua"]  </span>
            <!-- Fin Ruta -->
            <ul class="breadcrumb">
                <li>
                    <i class="ace-icon fa fa-home home-icon"></i>
                    <a href="/Modulos/">Modulos</a>
                </li>
                <li><a href="/UNegocios/index"> U.Negocios</a></li>
                <li class="active">Recepcionar SDA</li>
            </ul>

        </div><!-- Inicio ruta -->

        <div class="page-content">
            <!-- contenido -->

            <div class="page-header">
                <!-- Inicio titulo -->

                <div class="cbp-mc-column">

                    <h1> Recepcionar S.D.A. </h1>
                </div>
            </div>       <!-- Fin titulo -->
            <!-- inicio pasos-->

            <div class="col-xs-12">
                <!-- contenido de pasos -->
                <div id="accordion" style="border:1px solid;">
                    <div class="card">

                        <div class="widget-header card-header" id="headingOne" style="text-align:left;">
                            <h5 class="widget-title" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                <a href="#" style="color:white; text-decoration:none;">
                                    <i class="ace-icon fa fa-search"></i>
                                    Recepcionar SDA
                                </a>
                            </h5>
                            <div class="widget-toolbar" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                <a href="#" data-action="collapse" style="color:#fff;">
                                    <i class="ace-icon fa fa-chevron-down"></i>
                                </a>
                            </div>
                        </div>

                        <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
                            <div class="card-body" style="padding-left:12px;padding-right:12px;">
                                

                                <div class="row" style="margin-bottom:0px; text-align:left; margin-left:auto">

                                    <div class="row" style="margin-bottom:10px; margin-left:auto">
                                        <div class="col-xs-12 col-md-12 panel panel-default" style="width:20%; margin-left:1%; margin-top:1%;">
                                            <div class="panel-body inline-block" style="text-align:left">
                                                <label>Buscar Por:</label>
                                                &nbsp;&nbsp;&nbsp;
                                                <label><input id="rb_ruc" type="radio" name="optradio" checked> RUC</label>
                                                &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
                                                <label><input id="rb_sgd" type="radio" name="optradio"> Nro. CUT</label>
                                            </div>
                                        </div>
                                    </div>
                                   
                                </div>

                                <div class="row" id="conRuc" style="margin-bottom:25px; margin-left:auto">

                                    <div class="col-xs-12 col-sm-12 col-md-3" style="text-align: left; margin-left:auto">
                                        <div>
                                            <label style="text-align:left;">RUC:</label>
                                        </div>
                                        <div>
                                            @Html.TextBox("nroRucFl", (string)"", new { style = "width:60%" })
                                            <button type="button" class="btn btn-info" id="btnBuscarRUC" title="Validar"> <i class="ace-icon fa fa-search"></i></button><br />
                                        </div>
                                    </div>

                                    <div class="col-xs-12 col-sm-12 col-md-3" style="text-align: left;">
                                        <div> <label style="text-align:left;">N° Expediente: </label> </div>
                                        <div>  <select id="cbxNoExpFl" class="custom-select" style="width:60%;"> </select> </div>
                                    </div>

                                    <div class="col-xs-12 col-sm-12 col-md-3" style="text-align: left;">
                                        <div>  <label style="text-align:left;">N° CUT:</label> </div>
                                        <div>
                                            @Html.TextBox("NroSgdCutFl", (string)"", new { @class = "campoNumero", style = "width:60%", disabled=true })

                                        </div>
                                    </div>
                                </div>

                                <div class="row" id="conSGD" style="margin-bottom:25px; margin-left:auto; display:none";>

                                    <div class="col-xs-12 col-sm-12 col-md-3" style="text-align: left;">
                                        <div> <label style="text-align:left;">N° Expediente: </label> </div>
                                        <div>  <select id="cbxNoExpFl" class="custom-select" style="width:60%;"> </select> </div>
                                    </div>

                                    <div class="col-xs-12 col-sm-12 col-md-3" style="text-align: left;">
                                        <div>  <label style="text-align:left;">N° CUT:</label> </div>
                                        <div>
                                            @Html.TextBox("NroSgdCutFl", (string)"", new { @class = "campoNumero", style = "width:60%", })

                                        </div>
                                    </div>
                                </div>


                                <div class="row" style="margin-bottom:25px; margin-left:auto">

                                    <div class="col-xs-12 col-sm-12 col-md-6" style="text-align: left;">
                                        <div>  <label style="text-align:left;">Razón social: </label> </div>
                                        <div>
                                            @Html.TextBox("NroSgdCutFl", (string)"", new { @class = "campoNumero", style = "width:80%" })

                                            <p id="NroSgdCut" class="alerta" style="display:none; font-family:'Gill Sans'; color:darkred">Solo valores numéricos en este campo.</p>
                                        </div>
                                    </div>
                                    

                                    <div class="col-xs-12 col-sm-12 col-md-3" style="text-align: left;">
                                        <div> <label style="text-align:left;">Línea de acción:</label> </div>
                                        <div>
                                            <select id="cbxTipoSdaFl" class="custom-select" style="width:60%;"> </select>
                                        </div>
                                    </div>

                                    <div class="col-xs-12 col-sm-12 col-md-3" style="text-align: left;">
                                        <div> <label style="text-align:left;">Estado: </label> </div>
                                        <div>
                                            @{
                                                List<KeyValuePair<int, string>> ddlstEstado = new List<KeyValuePair<int, string>>();
                                                ddlstEstado.Add(new KeyValuePair<int, string>(0, "Seleccione..."));
                                                ddlstEstado.Add(new KeyValuePair<int, string>(1, "NUEVO"));
                                                ddlstEstado.Add(new KeyValuePair<int, string>(2, "RECEPCIONADO"));
                                                SelectList selectEstado = new SelectList(ddlstEstado, "key", "value", 0);
                                            }
                                            @Html.DropDownList("cbxEstadoF", selectEstado, new { style = "width:60%" })
                                        </div>
                                    </div>
                                </div>


                                <div class="row" style="margin-bottom:5px; margin-left:auto">

                                    <div class="col-xs-12 col-sm-12 col-md-3" style="text-align: left;">
                                        <div> <label style="text-align:left;">Departamento: </label> </div>
                                        <div> <select id="cbxDepartamentoFl" class="custom-select" style="width:60%;"> </select> </div>
                                    </div>

                                    <div class="col-xs-12 col-sm-12 col-md-3" style="text-align: left;">
                                        <div> <label style="text-align:left;">Provincia:</label> </div>
                                        <div>
                                            <select id="cbxProvinciaFl" class="custom-select" style="width:60%;"> </select>
                                        </div>
                                    </div>
                                    
                                     <div class="col-xs-12 col-sm-12 col-md-3" style="text-align: left;">
                                        <div><label style="text-align:left;">Distrito:</label></div>
                                        <div>
                                            <select id="cbxDistritoFl" class="custom-select" style="width:60%;"> </select>
                                        </div>
                                    </div>

                                    <div class="col-xs-12 col-sm-12 col-md-3" style="text-align: left; margin-bottom: 5px;">
                                        <div>
                                            <label style="text-align:left;"><strong>Fecha de trámite:</strong></label>
                                        </div>
                                        <div class="form-inline">
                                            Del:&nbsp;
                                            <div class="input-group date" style="width:40%; Text-align:left;">
                                                @Html.TextBox("fecIni1", (string)"", new { @class = "datetimepicker", style = "width:95%; text-align:left;" })
                                                <span class="input-group-addon" style="text-align:left; width:5%;">
                                                    <span class="glyphicon glyphicon-calendar"></span>
                                                </span>
                                            </div>
                                            &nbsp;&nbsp; al:&nbsp;
                                            <div class="input-group date" style="width:40%; Text-align:left;">
                                                @Html.TextBox("fecIni2", (string)"", new { @class = "datetimepicker", style = "width:95%; text-align:left;" })
                                                <span class="input-group-addon" style="text-align:left; width:5%;">
                                                    <span class="glyphicon glyphicon-calendar"></span>
                                                </span>
                                            </div>
                                        </div>

                                    </div>      

                                </div>

                                <div class="row">
                                    <div class="cbp-mc-column">
                                    </div>

                                    <div class="cbp-mc-column">
                                    </div>

                                    <div class="cbp-mc-column">
                                    </div>

                                    <!-- columna  3 -->

                                    <br />
                                    <br />
                                    <div class="cbp-mc-column ">
                                        <button id="btnConsultar" class="btn btn-success" style="margin-bottom:25px"><i class="ace-icon fa fa-search"></i>Buscar</button>
                                        &nbsp;&nbsp;
                                        <button id="btnLimpiarFilto" class="btn btn-success" style="margin-bottom:25px"><i class="ace-icon fa fa-eraser"></i>Limpiar</button>
                                    </div>
                                </div>
                            </div>

                        </div>
                 </div>
                            <!----HASTA AQUI CUT--->
                            <!-- INICIA ANEXAR DOCUMENTOS -->
                            

                            <div class="row">
                                <!-- inicio grid-->
                                <!-- Fin tabla-->


                            </div><!-- fin grid -->
                
                        </div><!-- contenido -->

                <br />
                @*COMIENZO TABLA EXTERIOR*@
                <div id="div-tabla" class="table-responsive margen">
                    <table id="tablaUNRecepcionarSDA" class="table table-bordered table-hover table-striped" style="width:100%">
                        <thead>
                            <tr>
                                <th rowspan="2" style="background-color:darkseagreen; color:black; text-align:center; vertical-align:middle; min-width:3%; max-width:5%">Nro</th>
                                <th rowspan="2" style="background-color:darkseagreen; color:black; text-align:center; vertical-align:middle; min-width:4%; max-width:7%">RUC</th>
                                <th rowspan="2" style="background-color:darkseagreen; color:black; text-align:center; vertical-align:middle; min-width:8%; max-width:12%">Razon Social </th>
                           
                                <th rowspan="2" style="background-color:darkseagreen; color:black; text-align:center; vertical-align:middle; min-width:8%; max-width:10%">Línea de acción</th>
                                <th rowspan="2" style="background-color:darkseagreen; color:black; text-align:center; vertical-align:middle; min-width:5%; max-width:5%">Tipo de incentivo</th>
                        
                                <th rowspan="2" style="background-color:darkseagreen; color:black; text-align:center; vertical-align:middle; min-width:5%; max-width:8%">N° Expediente</th>
                                <th rowspan="2" style="background-color:darkseagreen; color:black; text-align:center; vertical-align:middle; min-width:5%; max-width:8%">Nro. CUT</th>
                                <th rowspan="2" style="background-color:darkseagreen; color:black; text-align:center; vertical-align:middle; min-width:5%; max-width:8%">Origen de Expediente</th>

                                <th rowspan="2" style="background-color:darkseagreen; color:black; text-align:center; vertical-align:middle; min-width:7%; max-width:12%">Asunto</th>
                                <th rowspan="2" style="background-color:darkseagreen; color:black; text-align:center; vertical-align:middle; min-width:7%; max-width:12%">Observación</th>

                                <th rowspan="2" style="background-color:darkseagreen; color:black; text-align:center; vertical-align:middle; min-width:5%; max-width:8%">Estado</th>
                                <th rowspan="2" style="background-color:darkseagreen; color:black; text-align:center; vertical-align:middle; min-width:5%; max-width:7%">Fecha recepción</th>
                                <th colspan="3" style="background-color:darkseagreen; color:black; text-align:center; vertical-align:middle; min-width:7%; max-width:10%">Acción</th>
                            </tr>

                        </thead>
                        <tbody id="tbodyMPExpOA" class="tbodyMPExpOA"></tbody>
                        <tr>
                            <td class="center">3</td>
                            <td class="center">1858-2018 </td>
                            <td class="center"> Solicitud </td>
                            <td class="center"> 0023-2018 </td>
                            <td class="center"> Solicitud </td>
                            <td class="center"> 0023-2018 </td>
                            <td style="text-align:left"> Solicitud de Levantamiento de objeción </td>
                            <td class="center"> U.Negocio </td>
                            <td class="center"> 06/05/2018 </td>
                            <td class="center"> RECEPCIONADO </td>
                            <td class="center"> Apobado </td>
                            <td class="center"> 06/05/2018 </td>
                            <td class="center">
                                <button id="btnRecepcionar" class="btn btn-primary" title="Recepcionar">
                                    <i class="ace-icon fa fa-pencil"></i> RECEPCIONAR
                                </button> 
                            </td>
                        </tr>

                    </table>
                </div>
                <br />
                    </div>
        


            <!-- MODAL REGISTRA RECEPCION EXPEDIENTE -->
            <div class="modal" id="recepcionarSDA" tabindex="-1" role="dialog" aria-labelledby="recepcionarLabel" aria-hidden="true" style="overflow-y: auto;">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content" style="width:130%">
                        <div class="modal-header">
                            <button id="btnCloseRSDA" type="button" class="close" data-dismiss="modal">x</button>
                            <h4 class="modal-title"><strong>Recepcionar S.D.A.</strong></h4>
                        </div>
                         

                        <div class="modal-body" style="max-height:90%">

                            <!-- FORMULARIO RECEPCIONA SDA -->

                            <div class="text-center">
                                <form class="form-horizontal" style="margin:0 auto">
                                    <div class="form-group row">

                                        <div class="col-xs-12 col-md-12" style="text-align: center; margin-bottom: 5px;">
                                            <label style="text-align:left; width:20%">RUC:</label>
                                           

                                            @Html.TextBox("ruc", (string)"", new { @class = "campoNumero", @style = "width:23%", disabled = true, Value = @Session["RucOA"] })
                                        </div>

                                    </div>
                                    <div class="form-group row">
                                        <div class="col-xs-12 col-md-12" style="text-align: center; margin-bottom: 5px;">
                                            <label style="text-align:left; width:20%">N° CUT:</label>
                                            

                                            @Html.TextBox("nroSgdCut", (string)"", new { @class = "campoNumero", @style = "width:23%", disabled = true, Value = @Session["RucOA"] })
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-xs-12 col-md-12" style="text-align: center; margin-bottom: 5px;">
                                            <label style="text-align:left; width:20%">Unidad PCC:</label>
                                            @Html.TextBox("unidadPCC", (string)"", new { @class = "campoNumero", @style = "width:23%", disabled = true, Value = @Session["RucOA"] })
                                           
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-xs-12 col-md-12" style="text-align: center; margin-bottom: 5px;">
                                            <label style="text-align:left; width:20%">Dependencia de origen:</label>
                                            @Html.TextBox("dependenciaOrigenSDA", (string)"", new { @class = "campoNumero", @style = "width:23%", disabled = true, Value = @Session["RucOA"] })
                                           
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-xs-12 col-md-12" style="text-align: center; margin-bottom: 5px;">
                                            <label style="text-align:left; width:20%">Asunto:</label>
                                            @Html.Hidden("usuario", (string)"", new { Value = @Session["Usuario"] })
                                            @*@Html.Hidden("rucOA", (string)"", new { Value = @Session["RucOA"] })*@

                                            @Html.Hidden("fechaAlta", (string)"", new { @class = "" })
                                            @Html.Hidden("fechaBaja", (string)"", new { @class = "" })

                                            @Html.TextBox("rucOA", (string)"", new { @class = "campoNumero", @style = "width:23%", disabled = true, Value = @Session["RucOA"] })
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-xs-12 col-md-12" style="text-align: center; margin-bottom: 5px;">
                                            <label style="text-align:left; width:20%">Fecha de recepción:</label>
                                            @Html.Hidden("usuario", (string)"", new { Value = @Session["Usuario"] })
                                            @*@Html.Hidden("rucOA", (string)"", new { Value = @Session["RucOA"] })*@

                                            @Html.Hidden("fechaAlta", (string)"", new { @class = "" })
                                            @Html.Hidden("fechaBaja", (string)"", new { @class = "" })

                                            @Html.TextBox("rucOA", (string)"", new { @class = "campoNumero", @style = "width:23%", disabled = true, Value = @Session["RucOA"] })
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="col-xs-12 col-md-12" style="text-align: center; margin-bottom: 5px;">
                                            <label for="textarea" class="col-lg-5 col-form-label align-right">Observacion:</label>
                                            <div class="col-lg-6">
                                                <textarea id="txAreaObsSDA" name="textarea" cols="5" rows="5" class="form-control"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group row">
                                        <div class="offset-16 col-lg-12 align-center">
                                            <button id="btnGrabarRSDA" name="submit" type="submit" class="btn btn-primary">GUARDAR</button>
                                            <button id="btnCerrarFRSDA" name="submit" type="submit" class="btn btn-danger">CERRAR</button>
                                        </div>
                                    </div>

                                </form>
                            </div>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
                            </div><!-- fin contenedor -->

    
     <script type="text/javascript">
         $(document).ready(function () {
             //controles_cbxOA();
             //llenarCboxUnidPrograma();
             //controles_MP_Expedientes();
             //listar_MP_OAs_RegistrarExpediente();
             //controles_Ubigeo();
             //listarDepartamento();
             controles_SDA();
                                     
            });

         </script>
                             